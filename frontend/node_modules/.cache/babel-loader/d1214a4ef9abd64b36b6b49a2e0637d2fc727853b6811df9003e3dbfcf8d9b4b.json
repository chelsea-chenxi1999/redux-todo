{"ast":null,"code":"const defaultState = {\n  inputName: '',\n  inputAge: 0,\n  list: [{\n    name: \"mark\",\n    age: 20\n  }]\n};\n\n// reducer可以接受state 绝不能修改state\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  //store可以自动把state跟action 传递给reducer\n  //reducer处理过传来的state之后 再把新state传递给store\n\n  console.log(state, action);\n  if (action.type === 'change_name_value') {\n    // 在这里做个深拷贝\n    const newState = JSON.parse(JSON.stringify(state));\n    newState.inputName = action.value;\n    return newState;\n  }\n  if (action.type === 'change_age_value') {\n    // 在这里做个深拷贝\n    const newState = JSON.parse(JSON.stringify(state));\n    newState.inputAge = action.value;\n    return newState;\n  }\n  if (action.type === 'add_person') {\n    const newState = JSON.parse(JSON.stringify(state));\n    console.log(newState);\n    let person = {\n      name: newState.inputName,\n      age: newState.inputAge\n    };\n    newState.list.push(person);\n    console.log(`添加后的数据是：${newState.list}`);\n    newState.inputName = '';\n    newState.inputAge = 0;\n    return newState;\n  }\n  if (action.type === 'delete_person') {\n    const newState = JSON.parse(JSON.stringify(state));\n    newState.list.splice(action.index, 1);\n    return newState;\n  }\n  //state 可以理解为所有person数据\n  return state;\n});","map":{"version":3,"names":["defaultState","inputName","inputAge","list","name","age","state","arguments","length","undefined","action","console","log","type","newState","JSON","parse","stringify","value","person","push","splice","index"],"sources":["/Users/chelseaxichen/Desktop/redux-todo/src/store/reducer.js"],"sourcesContent":["const defaultState = {\r\n  inputName:'',\r\n  inputAge:0,\r\n  \r\n  list: [\r\n    { name: \"mark\", age: 20 }\r\n  ],\r\n}\r\n\r\n// reducer可以接受state 绝不能修改state\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState,action) => {\r\n    //store可以自动把state跟action 传递给reducer\r\n    //reducer处理过传来的state之后 再把新state传递给store\r\n\r\n    console.log(state,action)\r\n    if(action.type ==='change_name_value'){\r\n        // 在这里做个深拷贝\r\n        const newState = JSON.parse(JSON.stringify(state))\r\n        newState.inputName = action.value\r\n        return newState\r\n    }\r\n\r\n    if(action.type ==='change_age_value'){\r\n        // 在这里做个深拷贝\r\n        const newState = JSON.parse(JSON.stringify(state))\r\n        newState.inputAge = action.value\r\n        return newState\r\n    }\r\n\r\n    if(action.type ==='add_person'){\r\n        const newState = JSON.parse(JSON.stringify(state))\r\n        console.log(newState);\r\n        let person = {\r\n            name : newState.inputName,\r\n            age : newState.inputAge\r\n        }\r\n        newState.list.push(person)\r\n        console.log(`添加后的数据是：${newState.list}`);\r\n        newState.inputName = ''\r\n        newState.inputAge = 0\r\n        return newState\r\n    }\r\n\r\n    if(action.type === 'delete_person'){\r\n        const newState = JSON.parse(JSON.stringify(state))\r\n        newState.list.splice(action.index,1)\r\n        return newState\r\n    }\r\n    //state 可以理解为所有person数据\r\n    return state\r\n}\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG;EACnBC,SAAS,EAAC,EAAE;EACZC,QAAQ,EAAC,CAAC;EAEVC,IAAI,EAAE,CACJ;IAAEC,IAAI,EAAE,MAAM;IAAEC,GAAG,EAAE;EAAG,CAAC;AAE7B,CAAC;;AAED;AACA;AACA,gBAAe,YAAiC;EAAA,IAAhCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGP,YAAY;EAAA,IAACU,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACvC;EACA;;EAEAE,OAAO,CAACC,GAAG,CAACN,KAAK,EAACI,MAAM,CAAC;EACzB,IAAGA,MAAM,CAACG,IAAI,KAAI,mBAAmB,EAAC;IAClC;IACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACX,KAAK,CAAC,CAAC;IAClDQ,QAAQ,CAACb,SAAS,GAAGS,MAAM,CAACQ,KAAK;IACjC,OAAOJ,QAAQ;EACnB;EAEA,IAAGJ,MAAM,CAACG,IAAI,KAAI,kBAAkB,EAAC;IACjC;IACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACX,KAAK,CAAC,CAAC;IAClDQ,QAAQ,CAACZ,QAAQ,GAAGQ,MAAM,CAACQ,KAAK;IAChC,OAAOJ,QAAQ;EACnB;EAEA,IAAGJ,MAAM,CAACG,IAAI,KAAI,YAAY,EAAC;IAC3B,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACX,KAAK,CAAC,CAAC;IAClDK,OAAO,CAACC,GAAG,CAACE,QAAQ,CAAC;IACrB,IAAIK,MAAM,GAAG;MACTf,IAAI,EAAGU,QAAQ,CAACb,SAAS;MACzBI,GAAG,EAAGS,QAAQ,CAACZ;IACnB,CAAC;IACDY,QAAQ,CAACX,IAAI,CAACiB,IAAI,CAACD,MAAM,CAAC;IAC1BR,OAAO,CAACC,GAAG,CAAE,WAAUE,QAAQ,CAACX,IAAK,EAAC,CAAC;IACvCW,QAAQ,CAACb,SAAS,GAAG,EAAE;IACvBa,QAAQ,CAACZ,QAAQ,GAAG,CAAC;IACrB,OAAOY,QAAQ;EACnB;EAEA,IAAGJ,MAAM,CAACG,IAAI,KAAK,eAAe,EAAC;IAC/B,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACX,KAAK,CAAC,CAAC;IAClDQ,QAAQ,CAACX,IAAI,CAACkB,MAAM,CAACX,MAAM,CAACY,KAAK,EAAC,CAAC,CAAC;IACpC,OAAOR,QAAQ;EACnB;EACA;EACA,OAAOR,KAAK;AAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}