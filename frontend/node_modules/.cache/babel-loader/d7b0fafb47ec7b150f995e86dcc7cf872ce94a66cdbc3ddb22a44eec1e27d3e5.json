{"ast":null,"code":"var _jsxFileName = \"/Users/chelseaxichen/Desktop/redux-todo/src/components/todo.jsx\";\n/* eslint-disable no-useless-constructor */\nimport React, { Component } from 'react';\nimport store from '../store/index';\nimport './todo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = store.getState();\n    this.state = store.getState();\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleAgeChange = this.handleAgeChange.bind(this);\n    this.hanleStoreStateChange = this.hanleStoreStateChange.bind(this);\n    this.handleBtnClick = this.handleBtnClick.bind(this);\n\n    //reducer传递给store新state store接受后state改变 立即执行subscribe()方法\n    store.subscribe(this.hanleStoreStateChange);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '80%',\n          margin: '20px auto',\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.inputName,\n          onChange: this.handleNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.inputAge,\n          onChange: this.handleAgeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.handleBtnClick,\n          children: \"\\u63D0\\u4EA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '80%',\n          margin: '0 auto'\n        },\n        children: this.state.list.map((person, index, key) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            onClick: this.handleItemDelete.bind(this, index),\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: person.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"age:\", person.age]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 29\n            }, this)]\n          }, `${key}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this);\n  }\n  handleNameChange(e) {\n    // 创建action命令 \n    const val = e.target.value;\n    const action = {\n      type: 'change_name_value',\n      value: val\n    };\n\n    // 把命令传递给store\n    store.dispatch(action);\n\n    //store会自动把命令(action)跟state 传递给reducer\n  }\n\n  handleAgeChange(e) {\n    // 创建action命令 \n    const val = e.target.value;\n    const action = {\n      type: 'change_age_value',\n      value: val\n    };\n\n    // 把命令传递给store\n    store.dispatch(action);\n  }\n\n  // 这个函数被立即执行\n  hanleStoreStateChange() {\n    console.log('store changed see what happened');\n    console.log(store.getState());\n    this.setState(store.getState());\n  }\n  handleBtnClick(e) {\n    const action = {\n      type: 'add_person'\n    };\n    store.dispatch(action);\n  }\n  handleItemDelete(index) {\n    console.log(index);\n    const action = {\n      type: 'delete_person',\n      index\n    };\n    store.dispatch(action);\n  }\n}\nexport default TodoList;","map":{"version":3,"names":["React","Component","store","jsxDEV","_jsxDEV","TodoList","constructor","props","state","getState","handleNameChange","bind","handleAgeChange","hanleStoreStateChange","handleBtnClick","subscribe","render","children","style","width","margin","display","justifyContent","type","value","inputName","onChange","fileName","_jsxFileName","lineNumber","columnNumber","inputAge","onClick","list","map","person","index","key","className","handleItemDelete","name","age","e","val","target","action","dispatch","console","log","setState"],"sources":["/Users/chelseaxichen/Desktop/redux-todo/src/components/todo.jsx"],"sourcesContent":["/* eslint-disable no-useless-constructor */\r\nimport React, { Component } from 'react';\r\nimport store  from '../store/index';\r\nimport './todo.css';\r\n\r\n\r\nclass TodoList extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = store.getState()\r\n        this.handleNameChange = this.handleNameChange.bind(this) \r\n        this.handleAgeChange = this.handleAgeChange.bind(this)\r\n        this.hanleStoreStateChange = this.hanleStoreStateChange.bind(this)\r\n        this.handleBtnClick = this.handleBtnClick.bind(this)\r\n        \r\n        //reducer传递给store新state store接受后state改变 立即执行subscribe()方法\r\n        store.subscribe(this.hanleStoreStateChange)\r\n    }\r\n\r\n    state = store.getState()\r\n    \r\n    render() { \r\n        return ( \r\n            <div>\r\n                <div style={{width:'80%',margin:'20px auto',display:'flex',justifyContent:'center'}}>\r\n                    <input type='text' \r\n                    value={this.state.inputName} \r\n                    onChange={this.handleNameChange}/>\r\n\r\n                    <input type='text' \r\n                    value={this.state.inputAge} \r\n                    onChange={this.handleAgeChange}/>\r\n\r\n                    <button type=\"button\" onClick={this.handleBtnClick}>提交</button>\r\n                </div>\r\n                <div style={{width:'80%',margin:'0 auto'}}>\r\n                {this.state.list.map((person,index,key) => {\r\n                    return (\r\n                        <div className='container' onClick={this.handleItemDelete.bind(this,index)} key={`${key}-${index}`}>\r\n                            <h1>{person.name}</h1>\r\n                            <p>age:{person.age}</p>\r\n                        </div>\r\n                    );\r\n                })}\r\n                </div>\r\n        </div>\r\n         );\r\n    }\r\n\r\n    handleNameChange(e){\r\n       // 创建action命令 \r\n       const val = e.target.value\r\n       const action = {\r\n           type:'change_name_value',\r\n           value:val\r\n       }\r\n\r\n       // 把命令传递给store\r\n       store.dispatch(action)\r\n       \r\n       //store会自动把命令(action)跟state 传递给reducer\r\n    }\r\n\r\n    handleAgeChange(e){\r\n        // 创建action命令 \r\n       const val = e.target.value\r\n       const action = {\r\n           type:'change_age_value',\r\n           value:val\r\n       }\r\n\r\n       // 把命令传递给store\r\n       store.dispatch(action)\r\n    }\r\n\r\n    // 这个函数被立即执行\r\n    hanleStoreStateChange(){\r\n        console.log('store changed see what happened')\r\n        console.log(store.getState())\r\n        this.setState(store.getState())\r\n    }\r\n\r\n    handleBtnClick(e){\r\n        const action = {\r\n            type:'add_person'\r\n        }\r\n        store.dispatch(action)\r\n    }\r\n\r\n    handleItemDelete(index){\r\n        console.log(index)\r\n        const action = {\r\n            type:'delete_person',\r\n            index\r\n        }\r\n        store.dispatch(action)\r\n    }\r\n}\r\n \r\nexport default TodoList;"],"mappings":";AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAO,gBAAgB;AACnC,OAAO,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGpB,MAAMC,QAAQ,SAASJ,SAAS,CAAC;EAE7BK,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KAWjBC,KAAK,GAAGN,KAAK,CAACO,QAAQ,EAAE;IAVpB,IAAI,CAACD,KAAK,GAAGN,KAAK,CAACO,QAAQ,EAAE;IAC7B,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAACC,IAAI,CAAC,IAAI,CAAC;IACxD,IAAI,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,CAACD,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAACE,qBAAqB,GAAG,IAAI,CAACA,qBAAqB,CAACF,IAAI,CAAC,IAAI,CAAC;IAClE,IAAI,CAACG,cAAc,GAAG,IAAI,CAACA,cAAc,CAACH,IAAI,CAAC,IAAI,CAAC;;IAEpD;IACAT,KAAK,CAACa,SAAS,CAAC,IAAI,CAACF,qBAAqB,CAAC;EAC/C;EAIAG,MAAMA,CAAA,EAAG;IACL,oBACIZ,OAAA;MAAAa,QAAA,gBACIb,OAAA;QAAKc,KAAK,EAAE;UAACC,KAAK,EAAC,KAAK;UAACC,MAAM,EAAC,WAAW;UAACC,OAAO,EAAC,MAAM;UAACC,cAAc,EAAC;QAAQ,CAAE;QAAAL,QAAA,gBAChFb,OAAA;UAAOmB,IAAI,EAAC,MAAM;UAClBC,KAAK,EAAE,IAAI,CAAChB,KAAK,CAACiB,SAAU;UAC5BC,QAAQ,EAAE,IAAI,CAAChB;QAAiB;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAE,eAElC1B,OAAA;UAAOmB,IAAI,EAAC,MAAM;UAClBC,KAAK,EAAE,IAAI,CAAChB,KAAK,CAACuB,QAAS;UAC3BL,QAAQ,EAAE,IAAI,CAACd;QAAgB;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAE,eAEjC1B,OAAA;UAAQmB,IAAI,EAAC,QAAQ;UAACS,OAAO,EAAE,IAAI,CAAClB,cAAe;UAAAG,QAAA,EAAC;QAAE;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC7D,eACN1B,OAAA;QAAKc,KAAK,EAAE;UAACC,KAAK,EAAC,KAAK;UAACC,MAAM,EAAC;QAAQ,CAAE;QAAAH,QAAA,EACzC,IAAI,CAACT,KAAK,CAACyB,IAAI,CAACC,GAAG,CAAC,CAACC,MAAM,EAACC,KAAK,EAACC,GAAG,KAAK;UACvC,oBACIjC,OAAA;YAAKkC,SAAS,EAAC,WAAW;YAACN,OAAO,EAAE,IAAI,CAACO,gBAAgB,CAAC5B,IAAI,CAAC,IAAI,EAACyB,KAAK,CAAE;YAAAnB,QAAA,gBACvEb,OAAA;cAAAa,QAAA,EAAKkB,MAAM,CAACK;YAAI;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAM,eACtB1B,OAAA;cAAAa,QAAA,GAAG,MAAI,EAACkB,MAAM,CAACM,GAAG;YAAA;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK;UAAA,GAFuD,GAAEO,GAAI,IAAGD,KAAM,EAAC;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAG5F;QAEd,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACI;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACR;EAEV;EAEApB,gBAAgBA,CAACgC,CAAC,EAAC;IAChB;IACA,MAAMC,GAAG,GAAGD,CAAC,CAACE,MAAM,CAACpB,KAAK;IAC1B,MAAMqB,MAAM,GAAG;MACXtB,IAAI,EAAC,mBAAmB;MACxBC,KAAK,EAACmB;IACV,CAAC;;IAED;IACAzC,KAAK,CAAC4C,QAAQ,CAACD,MAAM,CAAC;;IAEtB;EACH;;EAEAjC,eAAeA,CAAC8B,CAAC,EAAC;IACd;IACD,MAAMC,GAAG,GAAGD,CAAC,CAACE,MAAM,CAACpB,KAAK;IAC1B,MAAMqB,MAAM,GAAG;MACXtB,IAAI,EAAC,kBAAkB;MACvBC,KAAK,EAACmB;IACV,CAAC;;IAED;IACAzC,KAAK,CAAC4C,QAAQ,CAACD,MAAM,CAAC;EACzB;;EAEA;EACAhC,qBAAqBA,CAAA,EAAE;IACnBkC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9CD,OAAO,CAACC,GAAG,CAAC9C,KAAK,CAACO,QAAQ,EAAE,CAAC;IAC7B,IAAI,CAACwC,QAAQ,CAAC/C,KAAK,CAACO,QAAQ,EAAE,CAAC;EACnC;EAEAK,cAAcA,CAAC4B,CAAC,EAAC;IACb,MAAMG,MAAM,GAAG;MACXtB,IAAI,EAAC;IACT,CAAC;IACDrB,KAAK,CAAC4C,QAAQ,CAACD,MAAM,CAAC;EAC1B;EAEAN,gBAAgBA,CAACH,KAAK,EAAC;IACnBW,OAAO,CAACC,GAAG,CAACZ,KAAK,CAAC;IAClB,MAAMS,MAAM,GAAG;MACXtB,IAAI,EAAC,eAAe;MACpBa;IACJ,CAAC;IACDlC,KAAK,CAAC4C,QAAQ,CAACD,MAAM,CAAC;EAC1B;AACJ;AAEA,eAAexC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}